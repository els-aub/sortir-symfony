{% extends 'base.html.twig' %}

{% block title %}Mon Profil{% endblock %}

{% block body %}
    <h1>Mon profil</h1>

    <form method="post" enctype="multipart/form-data">
        <div style="display: flex; justify-content: center; align-items: flex-start; gap: 40px; margin-top: 24px;">

            <!-- Avatar à gauche -->
            <div style="width: 140px; height: 140px; border: 1px solid var(--border); border-radius: 6px; background: var(--card); display: flex; align-items: center; justify-content: center; font-size: 64px; font-weight: bold; color: var(--muted); flex-shrink: 0;">
                {{ app.user.participant.pseudo|slice(0,1)|upper }}
            </div>

            <!-- Formulaire à droite -->
            <div style="display: grid; grid-template-columns: 180px 1fr; gap: 10px; align-items: center; max-width: 500px;">
                <label>Pseudo :</label>
                <input type="text" name="pseudo" value="{{ app.user.participant.pseudo }}" required>

                <label>Prénom :</label>
                <input type="text" name="prenom" value="{{ app.user.participant.prenom }}" required>

                <label>Nom :</label>
                <input type="text" name="nom" value="{{ app.user.participant.nom }}" required>

                <label>Téléphone :</label>
                <input type="text" name="telephone" value="{{ app.user.participant.telephone ?? '' }}">

                <label>Email :</label>
                <input type="email" name="email" value="{{ app.user.participant.mail }}" required>

                <label>Mot de passe :</label>
                <input type="password" name="password" placeholder="Laisser vide pour ne pas changer">

                <label>Confirmation :</label>
                <input type="password" name="password_confirm">

                <label>Ville de rattachement :</label>
                <select name="site">
                    <option>{{ app.user.participant.site.nomSite }}</option>
                </select>

                <label>Ma photo :</label>
                <input type="file" name="photo">
            </div>
        </div>

        <div class="form-actions">
            <button type="submit" class="btn">Enregistrer</button>
            <a href="{{ path('app_home') }}" class="btn">Annuler</a>
        </div>
    </form>
{% endblock %}
